"use strict";(self.webpackChunkpicpay_frontend=self.webpackChunkpicpay_frontend||[]).push([[2436],{92420:(e,o,i)=>{i.d(o,{M:()=>t});var t=(0,i(99016).Ev)({token:void 0,user:void 0,logged:!1,keycloakInitialized:!1},{name:"auth"})},92436:(e,o,i)=>{i.r(o),i.d(o,{KeycloakService:()=>p,keycloakService:()=>h});var t=i(94072),n=i(18170),r=i(42615),a=i(51015),c=i(96381),l=i(49580),u=i(32385),s={clientId:"23ac5ad1-7756-49a4-9e51-3962e87883f5",realm:"studio",url:"https://sso2.picpay.com/auth/",baseHref:"/dashboard/",onLoad:"check-sso",withCallback:!0,notAllowedRouteRedirectTo:"/error/not-authorized"},d=i.n(u)()(s),f={onLoad:s.onLoad,silentCheckSsoRedirectUri:""+window.location.origin+s.baseHref+"/assets/keycloak/silent-check-sso.html",redirectUri:""+window.location.href},k=i(92420),p=function(){function e(){this.url="https://api.picpay.com/dev-portal"}var o=e.prototype;return o.initKeycloak=function(){var e=this;(0,t.D)(d.init(f)).pipe((0,a.q)(1),(0,c.w)((function(o){return k.M.update({keycloakInitialized:!0}),k.M.setLoading(!0),o?e.callback():(0,n.of)(o)})),(0,l.x)((function(){k.M.setLoading(!1)}))).subscribe()},o.logout=function(){d.logout()},o.login=function(e){d.login({redirectUri:window.location.origin+"/"+e})},o.loadUserProfile=function(){return(0,t.D)(d.loadUserProfile()).pipe((0,c.w)((function(e){return e.id=d.subject,(0,n.of)(e)})))},o.getToken=function(){return(0,n.of)(d.token)},o.isLoggedIn=function(){return(0,n.of)(!!d.authenticated)},o.callback=function(){return(0,r.D)({token:this.getToken(),user:this.loadUserProfile(),logged:this.isLoggedIn()}).pipe((0,c.w)((function(e){return k.M.update(e),(0,n.of)(!0)})))},e}(),h=new p}}]);