{
  "openapi": "3.0.3",
  "x-stoplight": {
    "id": "9wxuk7cbwz0ek"
  },
  "info": {
    "title": "PicPay 1-Click",
    "description": "# Introduction\nA API do PicPay 1-Click was developed \ncom based on REST model, following current standard \ntechnical of market. All the URLs use the protocol \nHTTP  as authentication,  verbs and return codes.\n\n## AUTHENTICATION AND AUTHORIZATION\nAll communication uses tokens for authorization, in \ncompliance withOpenID Connect and \nOAuth 2.0 specifications. The tokens are created from authentication \nwith the credentials provided by PicPay, and from \nuser authorization as shown in our guide.\n",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "/v1"
    }
  ],
  "paths": {
    "/payments/charge": {
      "post": {
        "summary": "Billing Create",
        "description": "This feature allows the seller to charge in the user's wallet.",
        "operationId": "charge",
        "security": [
          {
            "Authorization": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChargeRequestBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Ok",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NewTransactionCreatedData"
                }
              }
            }
          },
          "401": {
            "description": "Error with your Access Token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "format": "string",
                      "example": "Unauthorized"
                    }
                  }
                },
                "examples": {
                  "InvalidToken": {
                    "description": "Invalid Token.",
                    "value": {
                      "message": "Invalid authentication credentials"
                    }
                  },
                  "tokenNotFound": {
                    "description": "Response when resource is called without access_token.",
                    "value": {
                      "message": "Unauthorized"
                    }
                  },
                  "expiredToken": {
                    "description": "Expired Access Token",
                    "value": {
                      "message": "Token claims invalid: [\"exp\"]=\"token expired\""
                    }
                  },
                  "badTokenFormat": {
                    "description": "Response when resource is called with token that invalid JWT.",
                    "value": {
                      "message": "Bad token; invalid JSON"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "408": {
            "description": "Request Timeout",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RequestTimeoutResponse"
                }
              }
            }
          },
          "422": {
            "description": "Response to validation errors.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnprocessableEntityResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChargeTooManyRequestsResponse"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected server error.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Payments"
        ]
      }
    },
    "/payments/{transaction_id}/refund": {
      "post": {
        "deprecated": true,
        "summary": "Perform a full or partial refund",
        "description": "This resource allows the seller to make a total or partial reversal of a payment. \nIf you specify a refund amount lower than was charged, the original transaction will be canceled and we will make a second charge to the user's wallet with the difference amount.‚Äù This resource allows the seller to make a total or partial reversal of a payment. \nIf you specify a refund amount lower than what was charged, the original transaction will be canceled and we will make a second charge to the user's wallet with the difference amount.",
        "operationId": "refund",
        "security": [
          {
            "Authorization": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "transaction_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefundRequestBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Full or partial refund successfully completed.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefundResponseBody"
                }
              }
            }
          },
          "401": {
            "description": "Errors with Access Token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "format": "string",
                      "example": "Unauthorized"
                    }
                  }
                },
                "examples": {
                  "InvalidToken": {
                    "description": "Invalid Token.",
                    "value": {
                      "message": "Invalid authentication credentials"
                    }
                  },
                  "tokenNotFound": {
                    "description": "Response when resource is called without acess_token.",
                    "value": {
                      "message": "Unauthorized"
                    }
                  },
                  "expiredToken": {
                    "description": "Expired Access Token",
                    "value": {
                      "message": "Token claims invalid: [\"exp\"]=\"token expired\""
                    }
                  },
                  "badTokenFormat": {
                    "description": "Response when resource is called with token that invalid JWT.",
                    "value": {
                      "message": "Bad token; invalid JSON"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionNotFound"
                }
              }
            }
          },
          "422": {
            "description": "Response for validation errors",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnprocessableEntityResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChargeTooManyRequestsResponse"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Payments"
        ]
      }
    },
    "/payments/refund": {
      "post": {
        "summary": "Perform a full or partial refund",
        "description": "This resource allows the seller to make a total or partial reversal of a payment. If you specify a refund amount less than the amount charged, a partial refund of the transaction will be processed. If the `value` field is not provided, the transaction will be refunded for the total amount. Two possible identifiers can be used: `transaction_id` or `reference_id`. The `transaction_id` is PicPay's identifier returned in a successful charge. The `reference_id` is the identifier generated by the partner and sent in the charge request. At least one of the identifiers needs to be sent. When both are sent, both will be validated.",
        "operationId": "refund with body",
        "security": [
          {
            "Authorization": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefundRequestWithPayloadBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Full or partial refund successfully completed.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefundResponseBody"
                }
              }
            }
          },
          "401": {
            "description": "Errors with Access Token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "format": "string",
                      "example": "Unauthorized"
                    }
                  }
                },
                "examples": {
                  "InvalidToken": {
                    "description": "Invalid Token.",
                    "value": {
                      "message": "Invalid authentication credentials"
                    }
                  },
                  "tokenNotFound": {
                    "description": "Response when resource is called without acess_token.",
                    "value": {
                      "message": "Unauthorized"
                    }
                  },
                  "expiredToken": {
                    "description": "Expired Access Token",
                    "value": {
                      "message": "Token claims invalid: [\"exp\"]=\"token expired\""
                    }
                  },
                  "badTokenFormat": {
                    "description": "Response when resource is called with token that invalid JWT.",
                    "value": {
                      "message": "Bad token; invalid JSON"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionNotFound"
                }
              }
            }
          },
          "422": {
            "description": "Response for validation errors",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnprocessableEntityResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChargeTooManyRequestsResponse"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Payments"
        ]
      }
    },
    "/payments/capture": {
      "post": {
        "summary": "Capture Charge",
        "description": "\nThe capture of payment, partial or total, is performed under the condition that the payment request is \ncreated with the `autoCapture` field set to `false` and the consumer has made the payment. \nA request will be awaited to finalize the charge, with the correct value indicated in the `value` field. \nThe value can be equal to or less than the authorized amount. If the `value` field is not provided, the transaction will be captured for the total amount. \nCaptures with a value higher than the authorized amount will be \nrejected.\n\n\n**Information:**\n- The capture request is only allowed when the transaction is authorized. In the situation where the capture request does not occur within 6 calendar days, counting from authorization, the request is canceled automatically;\n\n- After a successful capture, even if partial, it will not be possible to request a new capture for the same order/transaction.",
        "operationId": "capture",
        "security": [
          {
            "Authorization": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CaptureRequestBody"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "No Content"
          },
          "401": {
            "description": "Errors with your Access Token.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "format": "string",
                      "example": "Unauthorized"
                    }
                  }
                },
                "examples": {
                  "InvalidToken": {
                    "description": "Invalid Token.",
                    "value": {
                      "message": "Invalid authentication credentials"
                    }
                  },
                  "tokenNotFound": {
                    "description": "Response when the resource is called without the access token.",
                    "value": {
                      "message": "Unauthorized"
                    }
                  },
                  "expiredToken": {
                    "description": "Expired Access Token",
                    "value": {
                      "message": "Token claims invalid: [\"exp\"]=\"token expired\""
                    }
                  },
                  "badTokenFormat": {
                    "description": "Response when the resource is called with a token that is not a valid JWT.",
                    "value": {
                      "message": "Bad token; invalid JSON"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionNotFound"
                }
              }
            }
          },
          "406": {
            "description": "Not Acceptable",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionCantBeCaptured"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error Response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnprocessableEntityResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChargeTooManyRequestsResponse"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected Server Error.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Payments"
        ]
      }
    },
    "/payments/cancel": {
      "post": {
        "summary": "Performs cancellation of an uncaptured transaction.",
        "description": "This feature allows the seller to cancel an authorized transaction awaiting capture.\nIt is mandatory to pass either the `reference_id` or `transaction_id`.\nFor orders with authorized payments awaiting capture, it is possible to terminate the request in advance, always for the total amount, as long as the waiting period is within 6 days of the capture request.\nThis prevents any possibility of charge and makes the consumer's balance available for new purchases.\n",
        "operationId": "cancelPayment",
        "security": [
          {
            "Authorization": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CancelRequestWithBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Cancellation successfully completed.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CancelResponseBody"
                }
              }
            }
          },
          "401": {
            "description": "Errors with your Access Token.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "format": "string",
                      "example": "Unauthorized"
                    }
                  }
                },
                "examples": {
                  "InvalidToken": {
                    "description": "Invalid Token.",
                    "value": {
                      "message": "Invalid authentication credentials"
                    }
                  },
                  "tokenNotFound": {
                    "description": "Response when the resource is called without the access token.",
                    "value": {
                      "message": "Unauthorized"
                    }
                  },
                  "expiredToken": {
                    "description": "Expired Access Token",
                    "value": {
                      "message": "Token claims invalid: [\"exp\"]=\"token expired\""
                    }
                  },
                  "badTokenFormat": {
                    "description": "Response when the resource is called with a token that is not a valid JWT.",
                    "value": {
                      "message": "Bad token; invalid JSON"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionNotFound"
                }
              }
            }
          },
          "406": {
            "description": "Not Acceptable",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionCantBeCancel"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error Response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnprocessableEntityResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChargeTooManyRequestsResponse"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected Server Error.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Payments"
        ]
      }
    },
    "/payments": {
      "get": {
        "summary": "Find a charge",
        "description": "This resource allows the search for a charge through an identifier. Two possible identifiers can be used: `transaction_id` or `reference_id`. The `transaction_id` is PicPay's identifier returned in a successful charge. The `reference_id` is the identifier generated by the partner and sent in the charge request. At least one of the identifiers needs to be sent. When both are sent, both will be validated.",
        "operationId": "find",
        "security": [
          {
            "Authorization": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "reference_id",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "transaction_id",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Find performed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FindPaymentResponse"
                }
              }
            }
          },
          "401": {
            "description": "Error with your Access Token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "format": "string",
                      "example": "Unauthorized"
                    }
                  }
                },
                "examples": {
                  "InvalidToken": {
                    "description": "Invalid Token.",
                    "value": {
                      "message": "Invalid authentication credentials"
                    }
                  },
                  "tokenNotFound": {
                    "description": "Response when resource is called without access_token.",
                    "value": {
                      "message": "Unauthorized"
                    }
                  },
                  "expiredToken": {
                    "description": "Expired Access Token",
                    "value": {
                      "message": "Token claims invalid: [\"exp\"]=\"token expired\""
                    }
                  },
                  "badTokenFormat": {
                    "description": "Response when resource is called with token that invalid JWT.",
                    "value": {
                      "message": "Bad token; invalid JSON"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionNotFound"
                }
              }
            }
          },
          "422": {
            "description": "Response to validation errors.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InvalidFindNullInput"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FindTooManyRequestsResponse"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected server error.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Payments"
        ]
      }
    },
    "/sandbox/payments/charge": {
      "post": {
        "summary": "Billing Create",
        "description": "This feature allows the seller to simulate charging the user's wallet.",
        "operationId": "Sandbox Charge",
        "security": [
          {
            "Authorization": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SandboxChargeRequestBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Ok",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NewTransactionCreatedData"
                }
              }
            }
          },
          "401": {
            "description": "Access Token Erros",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "format": "string",
                      "example": "Unauthorized"
                    }
                  }
                },
                "examples": {
                  "InvalidToken": {
                    "description": "Invalid Token.",
                    "value": {
                      "message": "Invalid authentication credentials"
                    }
                  },
                  "tokenNotFound": {
                    "description": "Response when resource is called without access_token.",
                    "value": {
                      "message": "Unauthorized"
                    }
                  },
                  "expiredToken": {
                    "description": "Expired Access Token.",
                    "value": {
                      "message": "Token claims invalid: [\"exp\"]=\"token expired\""
                    }
                  },
                  "badTokenFormat": {
                    "description": "Response when resource is called with a invalid JWT token.",
                    "value": {
                      "message": "Bad token; invalid JSON"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "422": {
            "description": "Response validation errors",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnprocessableEntityResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChargeTooManyRequestsResponse"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Sandbox"
        ]
      }
    },
    "/sandbox/payments/{transaction_id}/refund": {
      "post": {
        "deprecated": true,
        "summary": "Perform a full or partial reversal",
        "description": "This resource allows the seller to make a total or partial reversal of a payment. \nIf you specify a refund amount lower than was charged, the original transaction will be canceled and we will make a second charge to the user's wallet with the difference amount.",
        "operationId": "Sandbox Refund",
        "security": [
          {
            "Authorization": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "transaction_id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SandboxRequestBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Full or partial refund successfully completed.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefundResponseBody"
                }
              }
            }
          },
          "401": {
            "description": "Errors with your Access Token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "format": "string",
                      "example": "Unauthorized"
                    }
                  }
                },
                "examples": {
                  "InvalidToken": {
                    "description": "Invalid Token.",
                    "value": {
                      "message": "Invalid authentication credentials"
                    }
                  },
                  "tokenNotFound": {
                    "description": "Response when resource is called without access_token.",
                    "value": {
                      "message": "Unauthorized"
                    }
                  },
                  "expiredToken": {
                    "description": "Expired Access Token",
                    "value": {
                      "message": "Token claims invalid: [\"exp\"]=\"token expired\""
                    }
                  },
                  "badTokenFormat": {
                    "description": "Response when resource is called with a token that is not a valid JWT.",
                    "value": {
                      "message": "Bad token; invalid JSON"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionNotFound"
                }
              }
            }
          },
          "422": {
            "description": "Response for validation errors",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnprocessableEntityResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChargeTooManyRequestsResponse"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Sandbox"
        ]
      }
    },
    "/sandbox/payments/refund": {
      "post": {
        "summary": "Perform a full or partial refund",
        "description": "This resource allows the seller to make a total or partial reversal of a payment. If you specify a refund amount less than the amount charged, a partial refund of the transaction will be processed. If the `value` field is not provided, the transaction will be refunded for the total amount. Two possible identifiers can be used: `transaction_id` or `reference_id`. The `transaction_id` is PicPay's identifier returned in a successful charge. The `reference_id` is the identifier generated by the partner and sent in the charge request. At least one of the identifiers needs to be sent. When both are sent, both will be validated.",
        "operationId": "sandbox refund with body",
        "security": [
          {
            "Authorization": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SandboxRefundRequestWithPayloadBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Full or partial refund successfully completed.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefundResponseBody"
                }
              }
            }
          },
          "401": {
            "description": "Errors with Access Token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "format": "string",
                      "example": "Unauthorized"
                    }
                  }
                },
                "examples": {
                  "InvalidToken": {
                    "description": "Invalid Token.",
                    "value": {
                      "message": "Invalid authentication credentials"
                    }
                  },
                  "tokenNotFound": {
                    "description": "Response when resource is called without acess_token.",
                    "value": {
                      "message": "Unauthorized"
                    }
                  },
                  "expiredToken": {
                    "description": "Expired Access Token",
                    "value": {
                      "message": "Token claims invalid: [\"exp\"]=\"token expired\""
                    }
                  },
                  "badTokenFormat": {
                    "description": "Response when resource is called with token that invalid JWT.",
                    "value": {
                      "message": "Bad token; invalid JSON"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionNotFound"
                }
              }
            }
          },
          "422": {
            "description": "Response for validation errors",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnprocessableEntityResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChargeTooManyRequestsResponse"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Sandbox"
        ]
      }
    },
    "/sandbox/payments/capture": {
      "post": {
        "summary": "Capture Charge",
        "description": "\nThe capture of payment, partial or total, is performed under the condition that the payment request is \ncreated with the `autoCapture` field set to `false` and the consumer has made the payment. \nA request will be awaited to finalize the charge, with the correct value indicated in the `value` field. \nThe value can be equal to or less than the authorized amount. If the `value` field is not provided, the transaction will be captured for the total amount. \nCaptures with a value higher than the authorized amount will be \nrejected.\n\n\n**Information:**\n- The capture request is only allowed when the transaction is authorized. In the situation where the capture request does not occur within 6 calendar days, counting from authorization, the request is canceled automatically;\n\n- After a successful capture, even if partial, it will not be possible to request a new capture for the same order/transaction.",
        "operationId": "Sandbox Capture",
        "security": [
          {
            "Authorization": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SandboxCaptureRequestBody"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Ok"
          },
          "401": {
            "description": "Errors with your Access Token.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "format": "string",
                      "example": "Unauthorized"
                    }
                  }
                },
                "examples": {
                  "InvalidToken": {
                    "description": "Invalid Token.",
                    "value": {
                      "message": "Invalid authentication credentials"
                    }
                  },
                  "tokenNotFound": {
                    "description": "Response when the resource is called without the access token.",
                    "value": {
                      "message": "Unauthorized"
                    }
                  },
                  "expiredToken": {
                    "description": "Expired Access Token",
                    "value": {
                      "message": "Token claims invalid: [\"exp\"]=\"token expired\""
                    }
                  },
                  "badTokenFormat": {
                    "description": "Response when the resource is called with a token that is not a valid JWT.",
                    "value": {
                      "message": "Bad token; invalid JSON"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionNotFound"
                }
              }
            }
          },
          "406": {
            "description": "Not Acceptable",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionCantBeCaptured"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error Response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnprocessableEntityResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChargeTooManyRequestsResponse"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected Server Error.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Sandbox"
        ]
      }
    },
    "/sandbox/payments/cancel": {
      "post": {
        "summary": "Perform the cancellation of an uncaptured transaction.",
        "description": "This feature allows the seller to cancel an authorized transaction awaiting capture.\nIt is mandatory to pass either the `reference_id` or `transaction_id`.\nFor orders with authorized payments awaiting capture, it is possible to terminate the request in advance, always for the total amount, as long as the waiting period is within 6 days of the capture request.\nThis prevents any possibility of charge and makes the consumer's balance available for new purchases.\n",
        "operationId": "Sandbox Cancel",
        "security": [
          {
            "Authorization": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SandboxCancelRequestBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Cancellation successfully completed.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefundResponseBody"
                }
              }
            }
          },
          "401": {
            "description": "Error with your Access Token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "format": "string",
                      "example": "Unauthorized"
                    }
                  }
                },
                "examples": {
                  "InvalidToken": {
                    "description": "Invalid Token.",
                    "value": {
                      "message": "Invalid authentication credentials"
                    }
                  },
                  "tokenNotFound": {
                    "description": "Response when the resource is called without the access token.",
                    "value": {
                      "message": "Unauthorized"
                    }
                  },
                  "expiredToken": {
                    "description": "Expired Access Token",
                    "value": {
                      "message": "Token claims invalid: [\"exp\"]=\"token expired\""
                    }
                  },
                  "badTokenFormat": {
                    "description": "Response when the resource is called with a token that is not a valid JWT.",
                    "value": {
                      "message": "Bad token; invalid JSON"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionNotFound"
                }
              }
            }
          },
          "406": {
            "description": "Not Acceptable",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionCantBeCancel"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error Response.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnprocessableEntityResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChargeTooManyRequestsResponse"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected Server Error.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Sandbox"
        ]
      }
    },
    "/sandbox/payments": {
      "get": {
        "summary": "Find a charge",
        "description": "This resource allows the search for a charge through an identifier. Two possible identifiers can be used: `transaction_id` or `reference_id`. The `transaction_id` is PicPay's identifier returned in a successful charge. The `reference_id` is the identifier generated by the partner and sent in the charge request. At least one of the identifiers needs to be sent. When both are sent, both will be validated.",
        "operationId": "Sandbox Find",
        "security": [
          {
            "Authorization": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "reference_id",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "transaction_id",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "testScenery",
            "description": "default: SUCCESS",
            "schema": {
              "type": "string",
              "enum": [
                "SUCCESS",
                "SUCCESS_REFUNDED",
                "SUCCESS_PARTIALLY_REFUNDED",
                "INTERNAL_SERVER_ERROR",
                "NOT_FOUND"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Find performed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FindPaymentResponse"
                }
              }
            }
          },
          "401": {
            "description": "Error with your Access Token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "format": "string",
                      "example": "Unauthorized"
                    }
                  }
                },
                "examples": {
                  "InvalidToken": {
                    "description": "Invalid Token.",
                    "value": {
                      "message": "Invalid authentication credentials"
                    }
                  },
                  "tokenNotFound": {
                    "description": "Response when resource is called without access_token.",
                    "value": {
                      "message": "Unauthorized"
                    }
                  },
                  "expiredToken": {
                    "description": "Expired Access Token",
                    "value": {
                      "message": "Token claims invalid: [\"exp\"]=\"token expired\""
                    }
                  },
                  "badTokenFormat": {
                    "description": "Response when resource is called with token that invalid JWT.",
                    "value": {
                      "message": "Bad token; invalid JSON"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionNotFound"
                }
              }
            }
          },
          "422": {
            "description": "Response to validation errors.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InvalidFindNullInput"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FindTooManyRequestsResponse"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalServerErrorResponse"
                }
              }
            }
          }
        },
        "tags": [
          "Sandbox"
        ]
      }
    }
  },
  "components": {
    "securitySchemes": {
      "Authorization": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "ChargeRequestBody": {
        "title": "Billing Create",
        "type": "object",
        "x-examples": {
          "Charge BRL 99.99 from the customer's wallet.": {
            "value": 99.99,
            "reference_id": "dfecee7e-2414-4966-8911-104f6389b070"
          }
        },
        "properties": {
          "value": {
            "type": "number",
            "format": "float",
            "example": 99.99,
            "description": "Amount in BRL to be charged to the customer."
          },
          "reference_id": {
            "type": "string",
            "example": "dfecee7e-2414-4966-8911-104f6389b071",
            "description": "Partner unique payment identifier."
          }
        },
        "required": [
          "value"
        ]
      },
      "CaptureRequestBody": {
        "title": "Capturar cobran√ßa",
        "type": "object",
        "x-examples": {
          "Capturar R$ 99,99 da carteira do cliente.": {
            "value": 99.99,
            "reference_id": "dfecee7e-2414-4966-8911-104f6389b070",
            "transaction_id": "bdc7bfd7-98bc-4910-801e-99206076947d"
          }
        },
        "properties": {
          "value": {
            "type": "number",
            "format": "float",
            "example": 99.99,
            "description": "Valor em reais a ser combrado do cliente."
          },
          "reference_id": {
            "type": "string",
            "example": "dfecee7e-2414-4966-8911-104f6389b071",
            "description": "Identificador √∫nico do pagamento no parceiro."
          },
          "transaction_id": {
            "type": "string",
            "example": "bdc7bfd7-98bc-4910-801e-99206076947d",
            "description": "Identificador √∫nico do pagamento no parceiro."
          }
        }
      },
      "RefundRequestBody": {
        "title": "Make a refund",
        "type": "object",
        "properties": {
          "value": {
            "type": "number",
            "format": "float",
            "example": 99.99
          }
        }
      },
      "RefundRequestWithPayloadBody": {
        "title": "Make a refund with transaction_id or reference_id",
        "type": "object",
        "properties": {
          "value": {
            "type": "number",
            "format": "float",
            "example": 99.99
          },
          "transaction_id": {
            "type": "string",
            "description": "Identifier of the created transaction.",
            "example": "123456222"
          },
          "reference_id": {
            "type": "string",
            "description": "Partner unique payment identifier.",
            "example": "123456222"
          }
        }
      },
      "CancelRequestWithBody": {
        "title": "Realizar um cancelamento",
        "type": "object",
        "properties": {
          "transaction_id": {
            "type": "string",
            "example": "57e8b5af-d42b-42a4-9d5e-181aacf1ee9e"
          },
          "reference_id": {
            "type": "string",
            "example": "1234ABCDEF"
          }
        }
      },
      "CancelResponseBody": {
        "title": "Reembolso realizado parcialmente",
        "type": "object",
        "properties": {
          "transaction_id": {
            "type": "string",
            "description": "Identificador da transa√ß√£o cancelada.",
            "example": "123456222"
          },
          "reference_id": {
            "type": "string",
            "description": "Identificador √∫nico do pagamento no parceiro.",
            "example": "123456222"
          },
          "created_at": {
            "type": "string",
            "example": "2020-04-16 20:59:58",
            "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$"
          }
        }
      },
      "SandboxRefundRequestWithPayloadBody": {
        "title": "Make a refund with transaction_id or reference_id",
        "type": "object",
        "properties": {
          "value": {
            "type": "number",
            "format": "float",
            "example": 99.99
          },
          "transaction_id": {
            "type": "string",
            "description": "Identifier of the created transaction.",
            "example": "123456222"
          },
          "reference_id": {
            "type": "string",
            "description": "Partner unique payment identifier.",
            "example": "123456222"
          },
          "test_scenery": {
            "type": "string",
            "description": "default: SUCCESS",
            "enum": [
              "SUCCESS",
              "GRAND_VALUE",
              "TRANSACTION_NOT_FOUND",
              "INTERNAL_SERVER_ERROR",
              "EXPIRED_TOKEN",
              "MISSING_TOKEN"
            ]
          }
        }
      },
      "SandboxCancelRequestBody": {
        "title": "Cancelar uma transa√ß√£o.",
        "type": "object",
        "properties": {
          "transaction_id": {
            "type": "string",
            "example": "ABCDEF"
          },
          "reference_id": {
            "type": "string",
            "example": "ABCDEF"
          },
          "test_scenery": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "TRANSACTION_NOT_FOUND",
              "INVALID_STATUS",
              "INTERNAL_SERVER_ERROR",
              "EXPIRED_TOKEN",
              "MISSING_TOKEN"
            ]
          }
        }
      },
      "SandboxCaptureRequestBody": {
        "title": "Capturar cobran√ßa",
        "type": "object",
        "properties": {
          "value": {
            "type": "number",
            "format": "float",
            "example": 99.99
          },
          "transaction_id": {
            "type": "string",
            "example": "50cb987b-5073-4da4-85be-6f15e49b7f12"
          },
          "reference_id": {
            "type": "string",
            "example": "1234ABCD"
          },
          "test_scenery": {
            "type": "string",
            "enum": [
              "SUCCESS",
              "GRAND_VALUE",
              "INVALID_STATUS",
              "TRANSACTION_NOT_FOUND",
              "EXPIRED_TOKEN",
              "MISSING_TOKEN",
              "INTERNAL_SERVER_ERROR"
            ]
          }
        }
      },
      "RefundResponseBody": {
        "title": "Partially Refunded",
        "type": "object",
        "properties": {
          "transaction_id": {
            "type": "string",
            "description": "Identifier of the canceled transaction, or of the new transaction created for cases of partial refund.",
            "example": "123456222"
          },
          "reference_id": {
            "type": "string",
            "description": "Unique payment identifier in the partner.",
            "example": "123456222"
          },
          "created_at": {
            "type": "string",
            "example": "2020-04-16 20:59:58",
            "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$"
          }
        }
      },
      "SandboxRequestBody": {
        "title": "Charge Refund",
        "type": "object",
        "properties": {
          "value": {
            "type": "number",
            "format": "float",
            "example": 99.99
          },
          "test_scenery": {
            "type": "string",
            "description": "default: SUCCESS",
            "enum": [
              "SUCCESS",
              "GRAND_VALUE",
              "TRANSACTION_NOT_FOUND",
              "INTERNAL_SERVER_ERROR",
              "EXPIRED_TOKEN",
              "MISSING_TOKEN"
            ]
          }
        }
      },
      "SandboxChargeRequestBody": {
        "title": "Create billing",
        "type": "object",
        "properties": {
          "value": {
            "type": "number",
            "format": "float",
            "example": 99.99
          },
          "reference_id": {
            "type": "string",
            "description": "Unique payment identifier in the partner.",
            "example": "dfecee7e-2414-4966-8911-104f6389b071"
          },
          "test_scenery": {
            "type": "string",
            "description": "default: SUCCESS",
            "enum": [
              "SUCCESS",
              "INTERNAL_SERVER_ERROR",
              "EXPIRED_TOKEN",
              "MISSING_TOKEN"
            ]
          }
        }
      },
      "NewTransactionCreatedData": {
        "type": "object",
        "properties": {
          "transaction_id": {
            "type": "string",
            "description": "Identifier of the created transaction.",
            "example": "123456222"
          },
          "reference_id": {
            "type": "string",
            "description": "Unique payment identifier in the partner.",
            "example": "123456222"
          },
          "created_at": {
            "type": "string",
            "example": "2020-04-16 20:59:58",
            "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$"
          }
        }
      },
      "UnprocessableEntityResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "The given data was invalid."
          },
          "errors": {
            "type": "object",
            "properties": {
              "field": {
                "type": "array",
                "items": {
                  "type": "string",
                  "example": "message"
                }
              }
            }
          },
          "business_code": {
            "type": "string",
            "example": "INVALID_INPUT"
          }
        }
      },
      "ChargeTooManyRequestsResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "API rate limit exceeded"
          }
        }
      },
      "InternalServerErrorResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "format": "string",
            "example": "Oops! An unexpected error occurred while processing your request."
          },
          "business_code": {
            "type": "string",
            "format": "string",
            "example": "INTERNAL_ERROR"
          }
        }
      },
      "TransactionNotFound": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Transaction not found"
          },
          "business_code": {
            "type": "string",
            "example": "TRANSACTION_NOT_FOUND"
          }
        }
      },
      "InvalidFindNullInput": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "It is necessary to inform the reference_id or transaction_id."
          },
          "business_code": {
            "type": "string",
            "example": "INVALID_INPUT"
          }
        }
      },
      "RequestTimeoutResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Request took too long to process."
          },
          "business_code": {
            "type": "string",
            "example": "REQUEST_TIMEOUT"
          }
        }
      },
      "FindTooManyRequestsResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "API rate limit exceeded"
          }
        }
      },
      "FindPaymentResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "reference_id": {
            "type": "string",
            "description": "Partner unique payment identifier."
          },
          "status": {
            "type": "string",
            "description": "- \"PAID\": Paid\n\n- \"ERROR\": Error\n\n- \"REFUNDED\": Refunded\n\n- \"CANCELLED\": Cancelled\n\n- \"AUTHORIZED\": Authorized\n\n- \"EXPIRED\": Expired\n",
            "enum": [
              "PAID",
              "ERROR",
              "REFUNDED",
              "CANCELLED",
              "AUTHORIZED",
              "EXPIRED"
            ],
            "example": "REFUNDED"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2023-05-29T19:25:34-03:00",
             "description": "Format ISO 8601"
          },
          "paid_at": {
            "type": "string",
            "format": "date-time",
            "example": "2023-05-29T19:25:34-03:00",
             "description": "Format ISO 8601"
          },
          "value": {
            "type": "number",
            "format": "float",
            "example": 10.95
          },
          "refunded_value": {
            "type": "number",
            "format": "float",
            "example": 10.95
          },
          "transactions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Transaction"
            }
          }
        }
      },
      "Transaction": {
        "type": "object",
        "properties": {
          "value": {
            "type": "number",
            "format": "float",
            "example": 10.95
          },
          "status": {
            "type": "string",
            "description": "- \"PAID\": Paid\n\n- \"ERROR\": Error\n\n- \"REFUNDED\": Refunded\n\n- \"CANCELLED\": Cancelled\n\n- \"AUTHORIZED\": Authorized\n\n- \"EXPIRED\": Expired\n",
            "enum": [
              "PAID",
              "ERROR",
              "REFUNDED",
              "CANCELLED",
              "AUTHORIZED",
              "EXPIRED"
            ],
            "example": "REFUNDED"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2023-05-29T19:25:34-03:00",
            "description": "Format ISO 8601"
          },
          "id": {
            "type": "string"
          },
          "refunds": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Refunds"
            }
          },
          "captured_value": {
            "type": "number",
            "format": "float",
            "example": 10.95
          },
          "captured_at": {
            "type": "string",
            "format": "date-time",
            "example": "2023-05-29T19:25:34-03:00"
          }
        }
      },
      "Refunds": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "09950d4a-2df4-4d60-9cbc-ac8f004fa595"
          },
          "value": {
            "type": "number",
            "format": "float",
            "example": 10.95
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2023-05-29T19:25:34-03:00",
            "description": "Format ISO 8601"
          }
        }
      },
      "TransactionCantBeCaptured": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Transaction has invalid status for capture."
          },
          "business_code": {
            "type": "string",
            "example": "TRANSACTION_CANT_BE_CAPTURED"
          }
        }
      },
      "TransactionCantBeCancel": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Transaction has invalid status for cancellation."
          },
          "business_code": {
            "type": "string",
            "example": "TRANSACTION_CANT_BE_CANCELLED"
          }
        }
      }
    }
  }
}