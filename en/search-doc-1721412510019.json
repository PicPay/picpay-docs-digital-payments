[{"title":"Identificação de canais","type":0,"sectionRef":"#","url":"blog/identificando-meu-canal","content":"","keywords":""},{"title":"O que muda?","type":1,"pageTitle":"Identificação de canais","url":"blog/identificando-meu-canal#o-que-muda","content":"Com essa mudança, podemos identificar e atuar mais rapidamente em casos de suporte além de ter uma visão consolidada do volume e transações de todos os lojistas que estão sob sua integração. "},{"title":"Como utilizar","type":1,"pageTitle":"Identificação de canais","url":"blog/identificando-meu-canal#como-utilizar","content":"Tá fácil! =) Basta incluir o campo channel em sua requisição e indicar o nome do seu canal. Desta forma já conseguiremos identificar suas transações. curl --location --request POST 'https://appws.picpay.com/ecommerce/public/payments' \\ --header 'x-picpay-token: {sua_chave_de_integracao}' \\ --header 'Content-Type: application/json' \\ --data-raw '{ &quot;referenceId&quot;: &quot;102039&quot;, &quot;callbackUrl&quot;: &quot;http://localhost/mockVtexPostCallback/?httpStatus=200&quot;, &quot;expiresAt&quot;: &quot;2020-12-12T15:53:00+05:00&quot;, &quot;returnUrl&quot;: &quot;http://www.picpay.com/#transacaoConcluida&quot;, &quot;value&quot;: 10, &quot;additionalInfo&quot;: [ null ], &quot;channel&quot; : &quot;name-of-your-channel&quot;, &quot;purchaseMode&quot; : &quot;in-store&quot;, &quot;buyer&quot;: { &quot;firstName&quot;: &quot;João&quot;, &quot;lastName&quot;: &quot;dos Testes&quot;, &quot;document&quot;: &quot;010.091.001-91&quot; } }' Copy "},{"title":"Obtendo ajuda","type":1,"pageTitle":"Identificação de canais","url":"blog/identificando-meu-canal#obtendo-ajuda","content":"Esperamos ter ajudado com este artigo! Ficou alguma dúvida? Você pode consultar o nosso FAQ ou entrar em contato através do e-mail relacionamento-negocios@picpay.com. "},{"title":"How to get started","type":0,"sectionRef":"#","url":"checkout/intro/getting-started","content":"","keywords":""},{"title":"Before getting started","type":1,"pageTitle":"How to get started","url":"checkout/intro/getting-started#before-getting-started","content":"Before starting your integration, you must have valid credentials to use our API. You can obtain your credentials through this page. After completing your registration, your credentials will be available in the merchant dashboard, under the Integrations tab. Information Your credentials are unique and should never be shared with third parties.  Attention Generating new tokens in the portal takes immediate effect and invalidates previously generated credentials. "},{"title":"Integration options","type":1,"pageTitle":"How to get started","url":"checkout/intro/getting-started#integration-options","content":"PicPay offers several integration options. Below, we will discuss each one so you can understand which is the best option for your e-commerce. Integration\tWho it's for\tLink to the step-by-stepVTEX\tRetailers who are already integrated or have a partnership with VTEX;\tVTEX Magento 2\tLojistas que possuem seus e-commerces com Magento 2\tMagento Public API\tRetailers who want to create and customize their own experience (whether through web, apps, or other channels).\tPublic API Information We are working to develop new integrations. Want to learn more or interested in a specific platform? Send us an email at relacionamento-negocios@picpay.com. Are you a developer with a need for a specific platform? We accept PRs. "},{"title":"Testing your integration","type":1,"pageTitle":"How to get started","url":"checkout/intro/getting-started#testing-your-integration","content":"Currently, PicPay does not provide a Sandbox environment. All tests will be conducted in the production environment and do not incur any costs to the developer/retailer. Additionally, all payments made can be immediately refunded through our cancellation API or the merchant dashboard.  "},{"title":"Next steps","type":1,"pageTitle":"How to get started","url":"checkout/intro/getting-started#next-steps","content":"Accepting payments with the public API;Understanding the possible payment statuses;Understanding how to request a full cancellation;Understand a bit more about the notifications that PicPay sends; "},{"title":"Getting help","type":1,"pageTitle":"How to get started","url":"checkout/intro/getting-started#getting-help","content":"We hope this article has been helpful! If you have any remaining questions, you can check our FAQ or contact us via email at relacionamento-negocios@picpay.com. "},{"title":"Manage notifications","type":0,"sectionRef":"#","url":"checkout/guides/notifications","content":"","keywords":""},{"title":"About this guide","type":1,"pageTitle":"Manage notifications","url":"checkout/guides/notifications#about-this-guide","content":"In this guide, we will describe the step-by-step process for receiving notifications about status changes for your orders generated through our e-commerce API. "},{"title":"Prerequisites","type":1,"pageTitle":"Manage notifications","url":"checkout/guides/notifications#prerequisites","content":"Before starting your onboarding, you must have valid credentials. You can check how to obtain your credentials in this article. "},{"title":"How does it work?","type":1,"pageTitle":"Manage notifications","url":"checkout/guides/notifications#how-does-it-work","content":""},{"title":"Authentication","type":1,"pageTitle":"Manage notifications","url":"checkout/guides/notifications#authentication","content":"PicPay provides two integration keys: x-picpay-token and x-seller-token. For this operation, you should use the x-picpay-token in your requests. "},{"title":"Basic operation","type":1,"pageTitle":"Manage notifications","url":"checkout/guides/notifications#basic-operation","content":"After any status change in your orders, PicPay will notify the callback URL (callbackUrl) provided at the time of the payment request. Below is how your e-commerce should be prepared to receive these notifications. Step 1: Immediately after any status change of an order, PicPay sends a notification to your e-commerce via POST to the callback URL provided in the payment request as callbackUrl. Your e-commerce should be ready to receive a POST at the endpoint /callback, using the x-seller-token in the header for request authentication. To confirm the receipt of the callback, your e-commerce must respond with HTTP Status 200. curl -X POST \\ http://www.sualoja.com.br/callback \\ -H 'Content-Type: application/json' \\ -H 'x-seller-token: 4ef4edbd-5cda-42da-860b-0e8d7b90c784' \\ -d '{ &quot;referenceId&quot; : &quot;102030&quot;, &quot;authorizationId&quot; : &quot;555008cef7f321d00ef236333&quot; }' Copy Example of notification that PicPay sends to the e-commerce. For security reasons, it is extremely important that your e-commerce validates the x-seller-token. Step 2: Your e-commerce should perform a GET request using the referenceId sent in the notification to obtain the new payment status. curl -X GET \\ https://appws.picpay.com/ecommerce/public/payments/{referenceId}/status \\ -H 'Content-Type: application/json' \\ -H 'x-picpay-token: {sua_chave_de_integracao}' \\ ' Copy Example of status retrieval. "},{"title":"Notification situations","type":1,"pageTitle":"Manage notifications","url":"checkout/guides/notifications#notification-situations","content":"Your e-commerce will be notified in the following situations: Order expired: it's no longer possible to pay using PicPay;Payment under analysis: user has paid but the payment is under review;Order paid;Order completed: funds are available for withdrawal;Payment refunded: payment was made and refunded to the customer;Payment with chargeback: customer requested cancellation of the payment through the card issuer; "},{"title":"Next steps","type":1,"pageTitle":"Manage notifications","url":"checkout/guides/notifications#next-steps","content":"Understand the possible payment statuses;Understand how to request a full cancellation; "},{"title":"Getting help","type":1,"pageTitle":"Manage notifications","url":"checkout/guides/notifications#getting-help","content":"We hope this article has been helpful! If you have any remaining questions, you can check our FAQ or contact us via email at relacionamento-negocios@picpay.com. "},{"title":"API Reference","type":0,"sectionRef":"#","url":"checkout/resources/api-reference","content":"","keywords":""},{"title":"API Reference Legacy","type":0,"sectionRef":"#","url":"checkout/resources/api-reference-legacy","content":"","keywords":""},{"title":"VTEX","type":0,"sectionRef":"#","url":"checkout/plugins/vtex","content":"","keywords":""},{"title":"Introduction","type":1,"pageTitle":"VTEX","url":"checkout/plugins/vtex#introduction","content":"In this guide, we will describe the step-by-step process for you to use PicPay within your e-commerce with VTEX. "},{"title":"Before getting started","type":1,"pageTitle":"VTEX","url":"checkout/plugins/vtex#before-getting-started","content":"Before starting your onboarding, you must have valid credentials. You can check how to obtain your credentials in this article. "},{"title":"How to use","type":1,"pageTitle":"VTEX","url":"checkout/plugins/vtex#how-to-use","content":""},{"title":"Getting your integration keys","type":1,"pageTitle":"VTEX","url":"checkout/plugins/vtex#getting-your-integration-keys","content":"Your integration keys will be available within the retail panel, in the integrations menu.  These keys must be copied and inserted into your VTEX configuration panel. Attention Every time new tokens are generated using the Generate Tokens button, old tokens will be invalidated. "},{"title":"Enabling PicPay as a payment method","type":1,"pageTitle":"VTEX","url":"checkout/plugins/vtex#enabling-picpay-as-a-payment-method","content":"Within your VTEX panel, you will need to configure PicPay as a new payment gateway. Step 1 - Within the payments section, click on Settings.  Step 2 -On the Gateways Affiliations tab, click the + button.  Step 3 -Select the PicPay connector.  "},{"title":"Configuring your keys within VTEX","type":1,"pageTitle":"VTEX","url":"checkout/plugins/vtex#configuring-your-keys-within-vtex","content":"Fill in the fields Application Key and Application Token with your PicPay account information and save the settings.  "},{"title":"Next steps","type":1,"pageTitle":"VTEX","url":"checkout/plugins/vtex#next-steps","content":"Understand the possible statuses of a payment; "},{"title":"Getting help","type":1,"pageTitle":"VTEX","url":"checkout/plugins/vtex#getting-help","content":"We hope this article has been helpful! If you have any remaining questions, you can check our FAQ or contact us via email at relacionamento-negocios@picpay.com. "},{"title":"Get payment status","type":0,"sectionRef":"#","url":"checkout/guides/order-status","content":"","keywords":""},{"title":"About this guide","type":1,"pageTitle":"Get payment status","url":"checkout/guides/order-status#about-this-guide","content":"In this guide, we will describe the step-by-step process for you to check the status of your orders generated through our e-commerce API. "},{"title":"Prerequisites","type":1,"pageTitle":"Get payment status","url":"checkout/guides/order-status#prerequisites","content":"Before starting your onboarding, you must have valid credentials. You can check how to obtain your credentials in this article. "},{"title":"How does it work?","type":1,"pageTitle":"Get payment status","url":"checkout/guides/order-status#how-does-it-work","content":""},{"title":"Authentication","type":1,"pageTitle":"Get payment status","url":"checkout/guides/order-status#authentication","content":"PicPay provides two integration keys: x-picpay-token and x-seller-token. For this operation, you should use the x-picpay-token in your requests. "},{"title":"Basic operation","type":1,"pageTitle":"Get payment status","url":"checkout/guides/order-status#basic-operation","content":"You can check the status of any order generated by your e-commerce using the unique referenceId provided at the time of the payment request. The query endpoint will return only the status of your order, along with the fields specified within additional_info. Information The buyer's data or the QR code generated during the payment intent creation will not be returned by the query endpoint. Step 1: Your e-commerce should perform a GET request using the referenceId provided at the time of the request (and also sent in notifications for each status change). Learn more about notifications [here]. curl -X GET \\ https://appws.picpay.com/ecommerce/public/payments/{referenceId}/status \\ -H 'Content-Type: application/json' \\ -H 'x-picpay-token: {your_integration_key}' \\ '` Copy Example of request to check the status of an order. "},{"title":"Payment lifecycle","type":1,"pageTitle":"Get payment status","url":"checkout/guides/order-status#payment-lifecycle","content":"When calling the payments endpoint, an order is created within PicPay with the status created. An order in the created status can either be paid or canceled. If it is canceled or reaches the expiration date (provided in expirationDate at the time of order creation), the order will transition to the expired status. Orders successfully paid by users will have their status updated to paid. If PicPay identifies any fraudulent behavior during the payment process, it will analyze the order, which will then have the &quot;analysis&quot; status. Below is a summary of the statuses explained above, as well as other relevant statuses: created: payment order created;expired: payment deadline expired or order canceled;analysis: paid and undergoing anti-fraud analysis;paid: paid;completed: paid and balance available;refunded: paid and refunded;chargeback: paid and with chargeback; "},{"title":"Next steps","type":1,"pageTitle":"Get payment status","url":"checkout/guides/order-status#next-steps","content":"Understand how to request a full cancellation;Learn more about the notifications that PicPay sends; "},{"title":"Getting help","type":1,"pageTitle":"Get payment status","url":"checkout/guides/order-status#getting-help","content":"We hope this article has been helpful! If you have any remaining questions, you can check our FAQ or contact us via email at relacionamento-negocios@picpay.com. "},{"title":"FAQ e-commerce","type":0,"sectionRef":"#","url":"checkout/resources/faq","content":"","keywords":""},{"title":"Frequently Asked Questions","type":1,"pageTitle":"FAQ e-commerce","url":"checkout/resources/faq#frequently-asked-questions","content":"What is PicPay e-commerce?PicPay E-commerce is a mode designed for those who have a website or online store and want to receive payments via PicPay. Payment with PicPay is easy and quick, in any situation. Whether via computer or smartphone, users complete order payments through the app. "},{"title":"Other Questions","type":1,"pageTitle":"FAQ e-commerce","url":"checkout/resources/faq#other-questions","content":"For more questions and answers, visit this link to our general FAQ. "},{"title":"Não achou o que precisava?","type":1,"pageTitle":"FAQ e-commerce","url":"checkout/resources/faq#não-achou-o-que-precisava","content":"We hope this article has been helpful! If you have any further questions, you can check our FAQ or contact us at relacionamento-negocios@picpay.com. "},{"title":"Olá, mundo físico","type":0,"sectionRef":"#","url":"blog/Pagamentos digitais para mundo físico","content":"","keywords":""},{"title":"O que muda?","type":1,"pageTitle":"Olá, mundo físico","url":"blog/Pagamentos digitais para mundo físico#o-que-muda","content":"Compras em lojas físicas fazem com que os lojistas nem sempre possuam dados de seus clientes, como por exemplo CPF, e-mail, telefone, etc. Solicitá-los no momento da transação presencial pode criar fricção para o ponto de venda e por isso removemos a obrigatoriedade destes dados. "},{"title":"Como utilizar","type":1,"pageTitle":"Olá, mundo físico","url":"blog/Pagamentos digitais para mundo físico#como-utilizar","content":"É muito simples! =) Basta incluir o campo purchaseMode em sua requisição com o valor in-store e pronto! Desta forma os dados de buyer deixam de ser obrigatórios. Confira um exemplo abaixo: curl --location --request POST 'https://appws.picpay.com/ecommerce/public/payments' \\ --header 'x-picpay-token: {sua_chave_de_integracao}' \\ --header 'Content-Type: application/json' \\ --data-raw '{ &quot;referenceId&quot;: &quot;102039&quot;, &quot;callbackUrl&quot;: &quot;http://localhost/mockVtexPostCallback/?httpStatus=200&quot;, &quot;expiresAt&quot;: &quot;2020-12-12T15:53:00+05:00&quot;, &quot;returnUrl&quot;: &quot;http://www.picpay.com/#transacaoConcluida&quot;, &quot;value&quot;: 10, &quot;additionalInfo&quot;: [ null ], &quot;channel&quot; : &quot;name-of-your-channel&quot;, &quot;purchaseMode&quot; : &quot;in-store&quot;, &quot;buyer&quot;: { &quot;firstName&quot;: &quot;João&quot;, &quot;lastName&quot;: &quot;dos Testes&quot;, &quot;document&quot;: &quot;010.091.001-91&quot; } }' Copy Importante Apesar de não ser obrigatório, você ainda poderá enviar os dados de buyer na requisição. Lembre-se que os níveis de conversão aumentam consideravelmente quando os dados de buyer são enviados, já que o cliente recebe uma notificação via push. "},{"title":"Ponto de atenção","type":1,"pageTitle":"Olá, mundo físico","url":"blog/Pagamentos digitais para mundo físico#ponto-de-atenção","content":"As credenciais do lojista serão bloqueadas caso o PicPay identifique que o mesmo está enviando transações 100% online (como, por exemplo, transações de e-commerce como in-store), apenas para &quot;driblar&quot; a obrigatoriedade dos dados de buyer. "},{"title":"Obtendo ajuda","type":1,"pageTitle":"Olá, mundo físico","url":"blog/Pagamentos digitais para mundo físico#obtendo-ajuda","content":"Esperamos ter ajudado com este artigo! Ficou alguma dúvida? Você pode consultar o nosso FAQ ou entrar em contato através do e-mail relacionamento-negocios@picpay.com. "},{"title":"Magento","type":0,"sectionRef":"#","url":"checkout/plugins/magento","content":"","keywords":""},{"title":"Introduction","type":1,"pageTitle":"Magento","url":"checkout/plugins/magento#introduction","content":"In this guide, we will describe step-by-step how you can integrate PicPay into your e-commerce with Magento 1 or 2. "},{"title":"Before getting started","type":1,"pageTitle":"Magento","url":"checkout/plugins/magento#before-getting-started","content":"Before starting your onboarding, you must have valid credentials. You can check how to obtain your credentials in this article. "},{"title":"How to use","type":1,"pageTitle":"Magento","url":"checkout/plugins/magento#how-to-use","content":""},{"title":"Access the official GitHub page for the plugins","type":1,"pageTitle":"Magento","url":"checkout/plugins/magento#access-the-official-github-page-for-the-plugins","content":"Link to Magento 1: https://github.com/PicPay/magento1Link to Magento 2: https://github.com/PicPay/magento2 "},{"title":"Installation for Magento 1","type":1,"pageTitle":"Magento","url":"checkout/plugins/magento#installation-for-magento-1","content":"To set up PicPay as a payment method in Magento 1, we provide two options: CDN Download our plugin through our CDN and copy the files to your environment: https://cdn.picpay.com/ecommerce/Picpay_Payment-1.0.2.tgz Composer Perform the installation using Composer. composer require picpay/magento1 Copy "},{"title":"Installation for Magento 2","type":1,"pageTitle":"Magento","url":"checkout/plugins/magento#installation-for-magento-2","content":"Composer Perform the installation using Composer. Step 1 composer require picpay/magento2 Copy Step 2 php bin/magento setup:upgrade Copy Step 3  php bin/magento setup:di:compile Copy Step 4 php bin/magento setup:static-content:deploy pt_BR en_US Copy "},{"title":"Manual installation for Magento 2","type":1,"pageTitle":"Magento","url":"checkout/plugins/magento#manual-installation-for-magento-2","content":"Perform this first step only if your Magento does not have Laminas (versions earlier than 2.3.5). If your Magento does not have Laminas, install the dependency. Step 1 composer require laminas/laminas-http:&gt;2.4.0 Copy Step 2 composer require firebase/php-jwt:* Copy Step 3 composer require bacon/bacon-qr-code:* Copy Download the file from GitHub and paste the files into the folder app/code/Picpay/Payment. Then run the installation commands below: Step 1 php bin/magento setup:upgrade Copy Step 2 php bin/magento setup:di:compile Copy Step 3 php bin/magento setup:static-content:deploy pt_BR en_US Copy "},{"title":"Configurations","type":1,"pageTitle":"Magento","url":"checkout/plugins/magento#configurations","content":"To configure the PicPay module for Magento 2, access: Administrator Panel &gt; Sales &gt; Picpay &gt; Settings &gt; Locate the PicPay option within the menu Other payment methods;Next, in the menu PicPay, click on Credentials and General Settings;  Attention: This configuration enables the use of the PicPay module. Enter the credentials used for PicPay services (PicPay API Token and PicPay Seller Token). If you don't have them, you need to contact the payment method. "},{"title":"Credentials and General Settings","type":1,"pageTitle":"Magento","url":"checkout/plugins/magento#credentials-and-general-settings","content":"Below are the details of each configuration: Title: Enter the title of the configuration;PicPay API Token: Enter the PicPay API Token;PicPay Seller Token: Enter the PicPay Seller Token;Hours to Expire: Transaction expiry time in hours (only numbers);Status for new orders: Status assigned to newly created orders before payment confirmation through server notifications;Payment from applicable countries: Enter here the countries where payment is applicable;Enable order status notification: Check this option if you want to enable order status notification;Enable debug log: When you activate this function, logs will be recorded on the server for debugging purposes. "},{"title":"Checkout and Layout Settings","type":1,"pageTitle":"Magento","url":"checkout/plugins/magento#checkout-and-layout-settings","content":"In this field, you will configure the checkout behavior: Checkout Modality: Determine the page where the payment process will occur.QRCode Width in &quot;Same Page Mode (Transparent)&quot;: Specify the QRCode size in pixels for the transparent checkout mode. Use numbers only.QRCode Width on Payment Information Page: Set the QRCode size in pixels for the payment information page. Use numbers only.Use Custom Text in Form: Enable this option if you want to display a custom message on the Checkout page.Show QRCode on Success Page: Determine whether to display the QRCode on the success page.Message to Show Alongside QRCode on Success Page: Enter the message that will be displayed next to the QRCode on the success page. "},{"title":"Logs","type":1,"pageTitle":"Magento","url":"checkout/plugins/magento#logs","content":"This functionality presents Callbacks in the Magento options menu. If there is any error feedback, such as refund or capture issues, the error log can be found in the Magento's own log file. Path: magento_root_folder/var/logs "},{"title":"Callbacks","type":1,"pageTitle":"Magento","url":"checkout/plugins/magento#callbacks","content":"Through the menu below, it is possible to view the callback payload returned to PicPay. Path: Sales &gt; PicPay &gt; Callbacks "},{"title":"Next steps","type":1,"pageTitle":"Magento","url":"checkout/plugins/magento#next-steps","content":"Understand the possible statuses of a payment;Understand how to request a full cancellation;Learn more about the notifications that PicPay sends; "},{"title":"Getting help","type":1,"pageTitle":"Magento","url":"checkout/plugins/magento#getting-help","content":"We hope this article has been helpful! If you have any remaining questions, you can check our FAQ or contact us via email at relacionamento-negocios@picpay.com. Additionally, you can also open an issue in our software repositories Magento 1 or Magento 2. "},{"title":"API Reference","type":0,"sectionRef":"#","url":"one-click/resources/api-reference","content":"Attention To consume the following resources you need to had done all te steps into Authentication and Authorization Guide, to get a valid access_token for the requests.","keywords":""},{"title":"Request cancellations","type":0,"sectionRef":"#","url":"checkout/guides/cancel-order","content":"","keywords":""},{"title":"About this guide","type":1,"pageTitle":"Request cancellations","url":"checkout/guides/cancel-order#about-this-guide","content":"In this guide, we will describe the step-by-step process for canceling your pending or paid orders through our e-commerce API. "},{"title":"Prerequisites","type":1,"pageTitle":"Request cancellations","url":"checkout/guides/cancel-order#prerequisites","content":"Before starting your onboarding, you must have valid credentials. You can check how to obtain your credentials in this article. "},{"title":"How does it work?","type":1,"pageTitle":"Request cancellations","url":"checkout/guides/cancel-order#how-does-it-work","content":""},{"title":"Authentication","type":1,"pageTitle":"Request cancellations","url":"checkout/guides/cancel-order#authentication","content":"PicPay provides two integration keys: x-picpay-token and x-seller-token. For this operation, you should use the x-picpay-token in your requests. "},{"title":"Basic operation","type":1,"pageTitle":"Request cancellations","url":"checkout/guides/cancel-order#basic-operation","content":"You can cancel any order generated by your e-commerce through our cancellation endpoint. Check the rules below: Scenario 1 If the payment has already been made, the PicPay customer will be refunded provided that your Merchant account on PicPay has sufficient balance to cover the refund. If the PicPay customer received any cashback for this transaction, that amount will also be deducted from the customer (for this, the customer must have sufficient balance). All these requirements must be met for the transaction refund to be successful. In this case, the authorizationId must also be included in the request body. curl --location --request POST 'https://appws.picpay.com/ecommerce/public/payments/{referenceId}/cancellations' \\ --header 'x-picpay-token: {your_integration_key}' \\ --header 'Content-Type: application/json' \\ --data-raw '{ &quot;authorizationId&quot;: &quot;601327196d038600273bbf1c&quot; }' Copy Example of a paid order cancellation: In the example above, this order will change from the status paid to refunded. Scenario 2 If the payment has not yet been made, the transaction will be canceled on our server, preventing payment by the PicPay customer. In this case, the referenceId is sufficient for the operation. curl --location --request POST 'https://appws.picpay.com/ecommerce/public/payments/{referenceId}/cancellations' \\ --header 'x-picpay-token: {your_integration_key}' \\ --header 'Content-Type: application/json' \\ --data-raw ''` Copy Example of cancellation of a pending order. In the example above, this order will change from the status created to expired. For transactions paid with balance, the amount will be returned to the user's wallet almost immediately after the operation. Refunding a transaction made with a credit card may take a few days to appear on the customer's statement. "},{"title":"Next steps","type":1,"pageTitle":"Request cancellations","url":"checkout/guides/cancel-order#next-steps","content":"Understand the possible payment statuses;Learn more about the notifications that PicPay sends; "},{"title":"Getting help","type":1,"pageTitle":"Request cancellations","url":"checkout/guides/cancel-order#getting-help","content":"We hope this article has been helpful! If you have any remaining questions, you can check our FAQ or contact us via email at relacionamento-negocios@picpay.com. "},{"title":"Postman Collection","type":0,"sectionRef":"#","url":"checkout/resources/postman","content":"","keywords":""},{"title":"About this guide","type":1,"pageTitle":"Postman Collection","url":"checkout/resources/postman#about-this-guide","content":"Neste breve guia vamos descrever como utilizar o Postman como ferramenta de apoio em sua integração. "},{"title":"Prerequisites","type":1,"pageTitle":"Postman Collection","url":"checkout/resources/postman#prerequisites","content":"Before starting your onboarding, you must have valid credentials. You can check how to obtain your credentials in this article. "},{"title":"What can I do with this collection?","type":1,"pageTitle":"Postman Collection","url":"checkout/resources/postman#what-can-i-do-with-this-collection","content":"In our collection, we provide the following endpoints: Endpoint for payment creation;Endpoint for order inquiry;Endpoint for cancellation;Simulation of callback; "},{"title":"Talk is cheap, show me the code!","type":1,"pageTitle":"Postman Collection","url":"checkout/resources/postman#talk-is-cheap-show-me-the-code","content":""},{"title":"Getting the collection","type":1,"pageTitle":"Postman Collection","url":"checkout/resources/postman#getting-the-collection","content":"Are you also a fan of Postman like us? Access our collection through the button below:  "},{"title":"Setting up your integration keys","type":1,"pageTitle":"Postman Collection","url":"checkout/resources/postman#setting-up-your-integration-keys","content":"Após importar nossa collection, você poderá configurar suas chaves dentro das configurações de ambientes como exibido abaixo:  "},{"title":"Didn't find what you needed?","type":1,"pageTitle":"Postman Collection","url":"checkout/resources/postman#didnt-find-what-you-needed","content":"Esperamos ter ajudado com este artigo! Caso tenha restado alguma dúvida, você pode consultar o nosso FAQ ou entrar em contato através do e-mail relacionamento-negocios@picpay.com "},{"title":"Subscriptions","type":0,"sectionRef":"#","url":"subscriptions","content":"","keywords":""},{"title":"Receive monthly from your customers and supporters","type":1,"pageTitle":"Subscriptions","url":"subscriptions#receive-monthly-from-your-customers-and-supporters","content":"PicPay Subscriptions is PicPay's recurring payments service perfect for subscription clubs, crowdfunding, content creators and more. Create your profile, set your subscription plans and start getting paid. Forget bureaucracy and have full control of your business. Track your new subscriptions, subscriber data, payment dates and more. "},{"title":"Next steps","type":1,"pageTitle":"Subscriptions","url":"subscriptions#next-steps","content":"How to subscribe; "},{"title":"How to subscribe?","type":0,"sectionRef":"#","url":"subscriptions/intro/sign-up","content":"","keywords":"PicPay Assinaturas"},{"title":"How users subscribe to their plans","type":1,"pageTitle":"How to subscribe?","url":"subscriptions/intro/sign-up#how-users-subscribe-to-their-plans","content":"You register on our Retailer Panel, use an integration key in your e-commerce and configure the application in just a few steps. After opening the app, tap the 'Pay' button at the bottom of the screenIn the search field at the top of the screen, search for your subscription profileAfter choosing the plan, just confirm the subscription "},{"title":"Webhooks","type":0,"sectionRef":"#","url":"subscriptions/api-ref/webhooks","content":"","keywords":""},{"title":"How to begin","type":0,"sectionRef":"#","url":"one-click/intro/getting-started","content":"","keywords":"PicPay 1-Click Payment Login"},{"title":"Before getting started","type":1,"pageTitle":"How to begin","url":"one-click/intro/getting-started#before-getting-started","content":"Before starting your integration, you must have valid credentials. Currently, the PicPay 1-Click solution is not available to all our merchants. Interested? Simply contact us at relacionamento-negocios@picpay.com expressing your interest. "},{"title":"Testing your integration","type":1,"pageTitle":"How to begin","url":"one-click/intro/getting-started#testing-your-integration","content":"Currently, PicPay does not provide a Sandbox environment. All testing will be conducted in the production environment and will not incur any costs for the developer/merchant. All payments made can be immediately refunded using our cancellation API or through the merchant panel.  "},{"title":"Next steps","type":1,"pageTitle":"How to begin","url":"one-click/intro/getting-started#next-steps","content":"Authentication and authorization;Charging a payment;Requesting a refund;Querying user information; "},{"title":"Getting help","type":1,"pageTitle":"How to begin","url":"one-click/intro/getting-started#getting-help","content":"We hope this article has been helpful! If you have any remaining questions, you can check our FAQ or contact us via email at relacionamento-negocios@picpay.com. "},{"title":"Getting User Information","type":0,"sectionRef":"#","url":"one-click/guides/user-info","content":"","keywords":"PicPay 1-Click Informations Birth Date e-mail Login"},{"title":"About this guide","type":1,"pageTitle":"Getting User Information","url":"one-click/guides/user-info#about-this-guide","content":"In this guide we will describe the step-by-step for you to consult information of authenticated users through our logged payment solution. "},{"title":"Before starting","type":1,"pageTitle":"Getting User Information","url":"one-click/guides/user-info#before-starting","content":"Before processing online payments by our PicPay 1-Click solution, you must have a valid, non-expired access_token. You can check how to generate your tokens in this article. "},{"title":"How it works","type":1,"pageTitle":"Getting User Information","url":"one-click/guides/user-info#how-it-works","content":""},{"title":"Authentication","type":1,"pageTitle":"Getting User Information","url":"one-click/guides/user-info#authentication","content":"For this operation, only the access_token, generated dynamically, is needed "},{"title":"Getting basic information from logged in users","type":1,"pageTitle":"Getting User Information","url":"one-click/guides/user-info#getting-basic-information-from-logged-in-users","content":"Just the access_token it is possible to obtain some basic information from the logged in client. Below an example: curl --location --request GET 'https://api.picpay.com/oauth2/userinfo' \\ --header 'Authorization: Bearer {access_token}' Copy Below is an example of a successful return. { &quot;seller&quot;: &quot;polenta.store@pm.me&quot;, &quot;sub&quot;: &quot;f:Xxxxxxx-xxxx-xxxx-xxxx-xxxxxxx:xxxxx&quot;, &quot;email_verified&quot;: true, &quot;birthdate&quot;: &quot;2020-03-05&quot;, &quot;preferred_username&quot;: &quot;polento&quot;, &quot;email&quot;: &quot;polenta.the.dog@gmail.com&quot; } Copy info The customer will authorize the e-commerce to have access to this information when consenting to permissions, explainedaqui Error Messages# If an error occurs, we will inform the reason in the response to the request. { &quot;error&quot;: &quot;invalid_token&quot;, &quot;error_description&quot;: &quot;Token verification failed&quot; } Copy "},{"title":"Next steps","type":1,"pageTitle":"Getting User Information","url":"one-click/guides/user-info#next-steps","content":"Making a charge;Requesting a refund; "},{"title":"Getting help","type":1,"pageTitle":"Getting User Information","url":"one-click/guides/user-info#getting-help","content":"We hope this article has helped! If you have any questions, you can consult our FAQ or contact us by e-mail : atendimento-empresas@picpay.com "},{"title":"Postman Collection","type":0,"sectionRef":"#","url":"one-click/resources/postman-collection","content":"","keywords":""},{"title":"About this guide","type":1,"pageTitle":"Postman Collection","url":"one-click/resources/postman-collection#about-this-guide","content":"In this brief guide, we will describe how to use Postman as a support tool in your integration. "},{"title":"Prerequisites","type":1,"pageTitle":"Postman Collection","url":"one-click/resources/postman-collection#prerequisites","content":"Before starting your integration, you must have valid credentials. Currently, the PicPay 1-Click solution is not available to all of our merchants. Interested? Just contact us at relacionamento-negocios@picpay.com to express your interest. "},{"title":"What can I do with this collection?","type":1,"pageTitle":"Postman Collection","url":"one-click/resources/postman-collection#what-can-i-do-with-this-collection","content":"In our collection, we provide the following endpoints: Endpoint for token generationEndpoint for token refreshEndpoint for refundEndpoint for chargeEndpoint for retrieving user information "},{"title":"Talk is cheap, show me the code!","type":1,"pageTitle":"Postman Collection","url":"one-click/resources/postman-collection#talk-is-cheap-show-me-the-code","content":""},{"title":"Getting the collection","type":1,"pageTitle":"Postman Collection","url":"one-click/resources/postman-collection#getting-the-collection","content":"Are you also a fan of Postman like us? Access our collection through the button below:  "},{"title":"Setting up your integration keys","type":1,"pageTitle":"Postman Collection","url":"one-click/resources/postman-collection#setting-up-your-integration-keys","content":"After importing our collection, you can configure your keys within the environment settings as shown below:  "},{"title":"Didn't find what you needed?","type":1,"pageTitle":"Postman Collection","url":"one-click/resources/postman-collection#didnt-find-what-you-needed","content":"We hope this article has been helpful! If you have any remaining questions, you can check our FAQ or contact us via email at relacionamento-negocios@picpay.com. "},{"title":"Overview","type":0,"sectionRef":"#","url":"one-click/intro/overview","content":"","keywords":""},{"title":"What is PicPay 1-Click?","type":1,"pageTitle":"Overview","url":"one-click/intro/overview#what-is-picpay-1-click","content":"PicPay 1-Click offers a synchronous payment method to your customers by charging their wallet transparently after initial consent. After logging into your application, the customer authorizes charges to their wallet, and your application manages these charges accordingly. "},{"title":"Fees","type":1,"pageTitle":"Overview","url":"one-click/intro/overview#fees","content":"As the feature is not yet available to the public, we do not have a standard fee. To learn more about our fees or the PicPay 1-Click solution, please contact us at relacionamento-negocios@picpay.com. "},{"title":"Available features","type":1,"pageTitle":"Overview","url":"one-click/intro/overview#available-features","content":"Currently, the PicPay 1-Click API offers the following functionalities: Generation of charges in users' walletsFull refund of approved amountsQuerying information of logged-in users Learn more about each functionality in our guides throughout this page. "},{"title":"Next Steps","type":1,"pageTitle":"Overview","url":"one-click/intro/overview#next-steps","content":"How to get started; "},{"title":"Getting help","type":1,"pageTitle":"Overview","url":"one-click/intro/overview#getting-help","content":"We hope this article has helped! If you have any questions, you can consult our FAQ or contact us by e-mail : atendimento-empresas@picpay.com "},{"title":"Refunding Payments","type":0,"sectionRef":"#","url":"one-click/guides/refund-payments","content":"","keywords":"PicPay 1-Click Refund Login"},{"title":"About this guide","type":1,"pageTitle":"Refunding Payments","url":"one-click/guides/refund-payments#about-this-guide","content":"In this guide, we will describe the step-by-step process for you to request refunds for payments generated by our logged-in payment solution. "},{"title":"Before Starting","type":1,"pageTitle":"Refunding Payments","url":"one-click/guides/refund-payments#before-starting","content":"Before processing online payments by our PicPay 1-Click solution, you must have a valid, non-expired access_token. You can check how to generate your tokens in this article. "},{"title":"How It works","type":1,"pageTitle":"Refunding Payments","url":"one-click/guides/refund-payments#how-it-works","content":""},{"title":"Authentication","type":1,"pageTitle":"Refunding Payments","url":"one-click/guides/refund-payments#authentication","content":"In addition to the access_token, generated dynamically, the payment end-point needs an Api-Key that will be informed with your client_id and client_secret. about the Api-Key The Api-Key must not be shared in any way and must be stored securely on their servers. "},{"title":"Requesting a refund of a charge to the user's wallet","type":1,"pageTitle":"Refunding Payments","url":"one-click/guides/refund-payments#requesting-a-refund-of-a-charge-to-the-users-wallet","content":"The refund request must be generated with the transaction_id or reference_id by the end-point v1/payments/refund, indicating the amount to be refunded in the body of the request. In the example below, we are requesting a refund of BRL 3.00 in the user's wallet. Information The transaction_id is generated when creating the payment. curl --location 'https://api.picpay.com/v1/payments/refund' \\ --header 'Api-Key: {{api_key}}' \\ --header 'Authorization: Bearer {{access_token}}' \\ --header 'x-Idempotency-Key: {{idempotency_key}}' \\ --header 'Content-Type: application/json' \\ --data '{ &quot;value&quot;: 3, &quot;transaction_id&quot;: &quot;daef8a44-b408-4df1-b726-c579723f1116&quot;, &quot;reference_id&quot;: &quot;f997bbef-8e17-4e59-b1a9-de1fe1dedd51&quot; }' Copy If the request is successfully processed, it will return an HTTP code 200 How will the refund be made?# The balance will be returned to the same place where the funds originated: If the transaction was made by credit card, it will be reversed on the card;If the transaction was made in the balance, the balance will return to the customer's wallet;If the transaction is mixed (Balance + Card), part will return as balance in the wallet and part will be reversed on the card; Error messages# We do not report error codes in the chargeback process. We only inform if the transaction was reversed or not. Example: { &quot;message&quot;: &quot;Transaction could not be refund&quot; } Copy "},{"title":"Next Steps","type":1,"pageTitle":"Refunding Payments","url":"one-click/guides/refund-payments#next-steps","content":"Consulting user informations; "},{"title":"Getting help","type":1,"pageTitle":"Refunding Payments","url":"one-click/guides/refund-payments#getting-help","content":"We hope this article has helped! If you have any questions, you can consult our FAQ or contact us by email:relacionamento-negocios@picpay.com. "},{"title":"Payments Processing","type":0,"sectionRef":"#","url":"one-click/guides/process-payments","content":"","keywords":"PicPay 1-Click Payments Login"},{"title":"About this guide","type":1,"pageTitle":"Payments Processing","url":"one-click/guides/process-payments#about-this-guide","content":"In this guide we will describe the step-by-step process for you to process payments with PicPay by our logged payment solution. "},{"title":"before starting","type":1,"pageTitle":"Payments Processing","url":"one-click/guides/process-payments#before-starting","content":"Before processing online payments by our PicPay 1-Click solution, you must have a valid, non-expired access_token. You can check how to generate your tokens in this article. "},{"title":"How it works","type":1,"pageTitle":"Payments Processing","url":"one-click/guides/process-payments#how-it-works","content":""},{"title":"Authentication","type":1,"pageTitle":"Payments Processing","url":"one-click/guides/process-payments#authentication","content":"In addition to the access_token, generated dynamically, the payment end-point also needs an Api-Key that will be informed with your client_id and client_secret. About the Api-Key The Api-Key must not be shared in any way and must be stored securely on their servers. "},{"title":"Generating a charge to the user's wallet","type":1,"pageTitle":"Payments Processing","url":"one-click/guides/process-payments#generating-a-charge-to-the-users-wallet","content":"With a valid access_token, the process of generating a charge on the customer's wallet is extremely simple. The charge must be generated by the end-point v1/payments/charge, indicating the amount to be debited in the body of the request. In the example below, we are requesting the charge of BRL 3.00 to the user's wallet. curl --location --request POST 'https://api.picpay.com/v1/payments/charge' \\ --header 'Api-Key: {{api_key}}' \\ --header 'Authorization: Bearer {{access_token}}' \\ --header 'Content-Type: application/json' \\ --header 'x-Idempotency-Key: {{idempotency_key}}' \\ --data '{ &quot;value&quot;: 0.1, &quot;reference_id&quot;: &quot;c413fcb5-d963-4b93-8218-3b776f656553&quot;, &quot;auto_capture&quot;: true }' Copy Below is an example of a successful return. The transaction_id and reference_id fields should be stored as they are the keys for refund processes. { &quot;transaction_id&quot;: &quot;e646263b-2b4d-4b2c-93d8-2568fbffb744&quot;, &quot;reference_id&quot;: &quot;04c923a4-34d6-43e8-89db-1b563f887b53&quot;, &quot;created_at&quot;: &quot;2021-02-22 19:29:16&quot; } Copy What will be the origin of the funds?# The charge amount may be debited from the credit card, balance or both (balance + card). If the customer has the Use balance option enabled in the App, we will first consume the user's balance and later (if there is not enough balance), charge the card. Example: I'm making a purchase of R$60, I have a balance of R$19 in my wallet. PicPay will consume R$19 and charge the registered card for R$41. Error Messages# We do not report error codes on transaction returns. We only inform you if the transaction was approved or not. { &quot;message&quot;:&quot;Unauthorized transaction.&quot; } Copy Payment Timeout# Currently, a payment has a default timeout value of 30 seconds. This management is handled internally to prevent issues with unauthorized charges. In practice, if the payment takes longer than 30 seconds to return a success, the API will return a 500 error, and if the payment is resolved later, it will automatically be undone through an automatic refund. If your API has a timeout different from 30 seconds, you will need to request this change for your integration. In these cases, the request will respond with the HTTP Status Code 408 Request Timeout and with the following body: { &quot;message&quot;: &quot;Request took too long to process.&quot;, &quot;business_code&quot;: &quot;REQUEST_TIMEOUT&quot; } Copy "},{"title":"Next Steps","type":1,"pageTitle":"Payments Processing","url":"one-click/guides/process-payments#next-steps","content":"Requesting a refund;Consulting user information; "},{"title":"Getting help","type":1,"pageTitle":"Payments Processing","url":"one-click/guides/process-payments#getting-help","content":"We hope this article has helped! If you have any questions, you can consult our FAQ or contact us by e-mail : relacionamento-negocios@picpay.com. "},{"title":"Authentication and Authorization","type":0,"sectionRef":"#","url":"one-click/guides/oauth2-flow","content":"","keywords":"PicPay 1-Click Authentication Authorization Login Token"},{"title":"About this guide","type":1,"pageTitle":"Authentication and Authorization","url":"one-click/guides/oauth2-flow#about-this-guide","content":"In this guide we will describe the step-by-step for you to obtain an access token to process online payments with PicPay by our logged payment solution. "},{"title":"Before Starting","type":1,"pageTitle":"Authentication and Authorization","url":"one-click/guides/oauth2-flow#before-starting","content":""},{"title":"Registro do aplicativo","type":1,"pageTitle":"Authentication and Authorization","url":"one-click/guides/oauth2-flow#registro-do-aplicativo","content":"Before starting your integration, you must have valid credentials. Currently for this product, the credentials creation process is done directly by the PicPay team For this payment solution, the e-commerce must already be a PicPay partner. The data required to register the application are: Registration email;Redirect URL or callback URL; info The PicPay 1-Click solution is not available to all our merchants. Interested? Just contact us by email: atrelationship-companies@picpay.com "},{"title":"Getting the client_id and client_secret","type":1,"pageTitle":"Authentication and Authorization","url":"one-click/guides/oauth2-flow#getting-the-client_id-and-client_secret","content":"After registering the application, the PicPay will share the access credentials with the e-commerce in the form of a client_id and a client_secret. More about the client_id# The ‘client ID’ is a publicly exposed string used by the service API to identify the application and also to create authorization URLs that are presented to users. More About the client_secret# The client secret is used to authenticate the app's identity to the service API when the app requests access to a user's account, and should be kept private between the app and the API. "},{"title":"How It works ?","type":1,"pageTitle":"Authentication and Authorization","url":"one-click/guides/oauth2-flow#how-it-works-","content":"The basic flow of authentication and authorization consists of generating a code after the user enters his login/password in a PicPay interface. With the generated code, the e-commerce must generate a token that will be used in all server to server communication with PicPay. This token will allow the user to perform the following operations (depending on the configured scope): Process payments;Refund payments;Get user information; "},{"title":"Redirecting user to login and password screen","type":1,"pageTitle":"Authentication and Authorization","url":"one-click/guides/oauth2-flow#redirecting-user-to-login-and-password-screen","content":"Initially, your e-commerce should redirect your customers to the PicPay login and password page. For this, your e-commerce must generate the URL, whith your client_id and redirection url. Example: curl --location --request GET 'https://api.picpay.com/oauth2/auth?client_id=xxxxxxxxxxxx&amp;response_type=code&amp;redirect_uri=http://yourwebsite.com/api/payments' https://api.picpay.com/oauth2/auth?client_id=CLIENT_ID&amp;response_type=code&amp;redirect_uri=CALLBACK_URL&amp;scope=scopes Copy Brief explanation of the above URL parameters: client_id: Application identifier provided by PicPay;redirect_uri: URL where the service redirects the user agent after granting an authorization coderesponse_type Must be equal code, specifying that your application is requesting an authorization code grant "},{"title":"Requesting user authorization","type":1,"pageTitle":"Authentication and Authorization","url":"one-click/guides/oauth2-flow#requesting-user-authorization","content":"When using the URL from the previous step, the client will be redirected to a login and password page. Your customer must have to login using his PicPay username and password.  After login, the customer must verify the permissions requested by the application. Information The requested permissions will depend on the scope settings set when creating the credentials.  Warning The client may or may not grant permissions. Your application must be prepared to receive two types of response. After the initial consent, PicPay will not ask the customer for permissions again. ###Getting the authorization code If the client authorizes the application in the previous step, the user will be redirected to the indicated return URL. The authorization code will be sent as a parameter along with the indicated URL and must be used to generate tokens in the next step.  "},{"title":"Token request","type":1,"pageTitle":"Authentication and Authorization","url":"one-click/guides/oauth2-flow#token-request","content":"In order to carry out requests for payment, reimbursement or querying information, the e-commerce must inform a valid token as one of the header parameters of each request. The e-commerce must request an access token with the authorization code obtained in step 3 and the client_id and client_secret. Example token request: curl -X POST \\ https://api.picpay.com/oauth2/token \\ -H &quot;Content-Type='application/x-www-form-urlencoded'&quot; \\ -d &quot;grant_type=authorization_code&quot; \\ -d &quot;client_id=CLIENT_ID&quot; \\ -d &quot;code=AUTHORIZATION_CODE&quot; -d &quot;redirect_uri=REDIRECT_URI&quot; Copy If everything is ok, we will send the token as in the example below: { &quot;access_token&quot;: &quot;ACCESS_TOKEN&quot;, &quot;expires_in&quot;: 300, // time in seconds &quot;refresh_expires_in&quot;: 1800, &quot;refresh_token&quot;: &quot;REFRESH_TOKEN&quot;, &quot;token_type&quot;: &quot;bearer&quot;, &quot;id_token&quot;: &quot;ID_TOKEN&quot;, &quot;not-before-policy&quot;: 1585954424, &quot;session_state&quot;: &quot;fa158d89-9228-45c6-8486-e159f28b5bd5&quot;, &quot;scope&quot;: &quot;openid email profile&quot; } Copy Expiration time of a token The token expiration time will be displayed in seconds. After expiration, the token must be refreshed using refresh_token. The duration of the tokens can be configured in the creation and configuration of credentials by PicPay. "},{"title":"Updating the Tokens","type":1,"pageTitle":"Authentication and Authorization","url":"one-click/guides/oauth2-flow#updating-the-tokens","content":"After a predetermined period, the access_token granted to the application will expire, requiring a request for a new access_token. For this, a refresh_token is used, generated in the same request as the access_token (see Authentication and Authorization). Below is an example of a request: curl -X POST \\ https://api.picpay.com/oauth2/token \\ -H &quot;Content-Type='application/x-www-form-urlencoded'&quot; \\ -d &quot;grant_type=refresh_token&quot; \\ -d &quot;client_id=CLIENT_ID&quot; \\ -d &quot;client_secret=CLIENT_SECRET&quot; \\ -d &quot;refresh_token=REFRESH_TOKEN&quot; Copy Token refresh flow The token refresh flow must be provided in your application as the refresh_token will expire at some point. If the token is not updated, the user must login and password again. "},{"title":"Next Steps","type":1,"pageTitle":"Authentication and Authorization","url":"one-click/guides/oauth2-flow#next-steps","content":"With a valid access_token, your application will be able to make charges, refunds or consult some basic user information. Check the next steps below: Making a charge;Requesting a refund;Consulting user informations; "},{"title":"Getting help","type":1,"pageTitle":"Authentication and Authorization","url":"one-click/guides/oauth2-flow#getting-help","content":"We hope this article has helped! If you have any questions, you can consult our FAQ or contact us by e-mail : relacionamento-negocios@picpay.com. "}]