"use strict";(self.webpackChunkpicpay=self.webpackChunkpicpay||[]).push([[4613],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),l=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=l(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=l(n),h=r,m=p["".concat(s,".").concat(h)]||p[h]||d[h]||i;return n?a.createElement(m,o(o({ref:t},u),{},{components:n})):a.createElement(m,o({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=h;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c[p]="string"==typeof e?e:r,o[1]=c;for(var l=2;l<i;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},24574:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var a=n(87462),r=(n(67294),n(3905));const i={id:"cancel-order",title:"Request cancellations"},o={unversionedId:"checkout/guides/cancel-order",id:"checkout/guides/cancel-order",isDocsHomePage:!1,title:"Request cancellations",description:"About this guide",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/checkout/guides/cancel-order.md",sourceDirName:"checkout/guides",slug:"/checkout/guides/cancel-order",permalink:"/picpay-docs-digital-payments/en/checkout/guides/cancel-order",version:"current",frontMatter:{id:"cancel-order",title:"Request cancellations"},sidebar:"walletPicPay",previous:{title:"Accepting Payments with the public API",permalink:"/picpay-docs-digital-payments/en/checkout/guides/accepting-payments"},next:{title:"Manage notifications",permalink:"/picpay-docs-digital-payments/en/checkout/guides/notifications"}},c=[{value:"About this guide",id:"about-this-guide",children:[]},{value:"Prerequisites",id:"prerequisites",children:[]},{value:"How does it work?",id:"how-does-it-work",children:[{value:"Authentication",id:"authentication",children:[]},{value:"Basic operation",id:"basic-operation",children:[]}]},{value:"Next steps",id:"next-steps",children:[]},{value:"Getting help",id:"getting-help",children:[]}],s={toc:c},l="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(l,(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"about-this-guide"},"About this guide"),(0,r.kt)("p",null,"In this guide, we will describe the step-by-step process for canceling your pending or paid orders through our e-commerce API."),(0,r.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,"Before starting your onboarding, you must have valid credentials. You can check how to obtain your credentials ",(0,r.kt)("a",{parentName:"p",href:"../intro/getting-started#antes-de-come%C3%A7ar"},"in this article"),"."),(0,r.kt)("h2",{id:"how-does-it-work"},"How does it work?"),(0,r.kt)("h3",{id:"authentication"},"Authentication"),(0,r.kt)("p",null,"PicPay provides two integration keys: ",(0,r.kt)("inlineCode",{parentName:"p"},"x-picpay-token")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"x-seller-token"),". For this operation, you should use the ",(0,r.kt)("inlineCode",{parentName:"p"},"x-picpay-token")," in your requests."),(0,r.kt)("h3",{id:"basic-operation"},"Basic operation"),(0,r.kt)("p",null,"You can cancel any order generated by your e-commerce through our cancellation endpoint. Check the rules below:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Scenario 1")," If the payment has already been made, the PicPay customer will be refunded provided that your Merchant account on PicPay has sufficient balance to cover the refund. If the PicPay customer received any cashback for this transaction, that amount will also be deducted from the customer (for this, the customer must have sufficient balance). All these requirements must be met for the transaction refund to be successful. In this case, the ",(0,r.kt)("inlineCode",{parentName:"p"},"authorizationId")," must also be included in the request body."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl --location --request POST 'https://appws.picpay.com/ecommerce/public/payments/{referenceId}/cancellations' \\ \n    --header 'x-picpay-token: {your_integration_key}' \\ \n    --header 'Content-Type: application/json' \\ \n    --data-raw '{ \"authorizationId\": \"601327196d038600273bbf1c\" }'\n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Example of a paid order cancellation:")),(0,r.kt)("p",null,"In the example above, this order will change from the status paid to refunded."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Scenario 2")," If the payment has not yet been made, the transaction will be canceled on our server, preventing payment by the PicPay customer. In this case, the referenceId is sufficient for the operation."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl --location --request POST 'https://appws.picpay.com/ecommerce/public/payments/{referenceId}/cancellations' \\ \n    --header 'x-picpay-token: {your_integration_key}' \\ \n    --header 'Content-Type: application/json' \\ \n    --data-raw ''`\n")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Example of cancellation of a pending order.")),(0,r.kt)("p",null,"In the example above, this order will change from the status created to expired."),(0,r.kt)("p",null,"For transactions paid with balance, the amount will be returned to the user's wallet almost immediately after the operation. Refunding a transaction made with a credit card may take a few days to appear on the customer's statement."),(0,r.kt)("h2",{id:"next-steps"},"Next steps"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/checkout/guides/order-status"},"Understand the possible payment statuses"),";"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/checkout/guides/notifications"},"Learn more about the notifications that PicPay sends"),";")),(0,r.kt)("h2",{id:"getting-help"},"Getting help"),(0,r.kt)("p",null,"We hope this article has been helpful! If you have any remaining questions, you can check our FAQ or contact us via email at ",(0,r.kt)("a",{parentName:"p",href:"mailto:relacionamento-negocios@picpay.com"},"relacionamento-negocios@picpay.com"),"."))}u.isMDXComponent=!0}}]);