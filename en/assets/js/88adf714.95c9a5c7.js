"use strict";(self.webpackChunkpicpay=self.webpackChunkpicpay||[]).push([[1970],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),h=i,m=u["".concat(l,".").concat(h)]||u[h]||d[h]||r;return n?a.createElement(m,o(o({ref:t},p),{},{components:n})):a.createElement(m,o({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:i,o[1]=s;for(var c=2;c<r;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},63173:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>s});var a=n(87462),i=(n(67294),n(3905));const r={id:"order-status",title:"Get payment status"},o={unversionedId:"checkout/guides/order-status",id:"checkout/guides/order-status",isDocsHomePage:!1,title:"Get payment status",description:"About this guide",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/checkout/guides/order-status.md",sourceDirName:"checkout/guides",slug:"/checkout/guides/order-status",permalink:"/picpay-docs-digital-payments/en/checkout/guides/order-status",version:"current",frontMatter:{id:"order-status",title:"Get payment status"},sidebar:"walletPicPay",previous:{title:"Manage notifications",permalink:"/picpay-docs-digital-payments/en/checkout/guides/notifications"},next:{title:"VTEX",permalink:"/picpay-docs-digital-payments/en/checkout/plugins/vtex"}},s=[{value:"About this guide",id:"about-this-guide",children:[]},{value:"Prerequisites",id:"prerequisites",children:[]},{value:"How does it work?",id:"how-does-it-work",children:[{value:"Authentication",id:"authentication",children:[]},{value:"Basic operation",id:"basic-operation",children:[]},{value:"Payment lifecycle",id:"payment-lifecycle",children:[]}]},{value:"Next steps",id:"next-steps",children:[]},{value:"Getting help",id:"getting-help",children:[]}],l={toc:s},c="wrapper";function p(e){let{components:t,...n}=e;return(0,i.kt)(c,(0,a.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"about-this-guide"},"About this guide"),(0,i.kt)("p",null,"In this guide, we will describe the step-by-step process for you to check the status of your orders generated through our e-commerce API."),(0,i.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.kt)("p",null,"Before starting your onboarding, you must have valid credentials. You can check how to obtain your credentials ",(0,i.kt)("a",{parentName:"p",href:"../intro/getting-started#antes-de-come%C3%A7ar"},"in this article"),"."),(0,i.kt)("h2",{id:"how-does-it-work"},"How does it work?"),(0,i.kt)("h3",{id:"authentication"},"Authentication"),(0,i.kt)("p",null,"PicPay provides two integration keys: ",(0,i.kt)("inlineCode",{parentName:"p"},"x-picpay-token")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"x-seller-token"),". For this operation, you should use the ",(0,i.kt)("inlineCode",{parentName:"p"},"x-picpay-token")," in your requests."),(0,i.kt)("h3",{id:"basic-operation"},"Basic operation"),(0,i.kt)("p",null,"You can check the status of any order generated by your e-commerce using the unique ",(0,i.kt)("strong",{parentName:"p"},"referenceId")," provided at the time of the payment request. The query endpoint will return only the status of your order, along with the fields specified within ",(0,i.kt)("inlineCode",{parentName:"p"},"additional_info"),"."),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Information")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"The buyer's data or the QR code generated during the payment intent creation will not be returned by the query endpoint."))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 1"),": Your e-commerce should perform a GET request using the ",(0,i.kt)("inlineCode",{parentName:"p"},"referenceId")," provided at the time of the request (and also sent in notifications for each status change). Learn more about notifications ","[here]","."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"curl -X GET \\ https://appws.picpay.com/ecommerce/public/payments/{referenceId}/status \\ \n    -H 'Content-Type: application/json' \\ \n    -H 'x-picpay-token: {your_integration_key}' \\ '`\n")),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Example of request to check the status of an order.")),(0,i.kt)("h3",{id:"payment-lifecycle"},"Payment lifecycle"),(0,i.kt)("p",null,"When calling the payments endpoint, an order is created within PicPay with the status ",(0,i.kt)("inlineCode",{parentName:"p"},"created"),". An order in the ",(0,i.kt)("inlineCode",{parentName:"p"},"created")," status can either be paid or canceled. If it is canceled or reaches the expiration date (provided in expirationDate at the time of order creation), the order will transition to the ",(0,i.kt)("inlineCode",{parentName:"p"},"expired")," status."),(0,i.kt)("p",null,"Orders successfully paid by users will have their status updated to ",(0,i.kt)("inlineCode",{parentName:"p"},"paid"),'. If PicPay identifies any fraudulent behavior during the payment process, it will analyze the order, which will then have the "analysis" status.'),(0,i.kt)("p",null,"Below is a summary of the statuses explained above, as well as other relevant statuses:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"created"),": payment order created;"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"expired"),": payment deadline expired or order canceled;"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"authorized"),": authorized and awaiting capture;"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"paid"),": paid;"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"refunded"),": paid and refunded;"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"chargeback"),": paid and with chargeback;")),(0,i.kt)("h2",{id:"next-steps"},"Next steps"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"./cancel-order"},"Understand how to request a full cancellation"),";"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"./notifications"},"Learn more about the notifications that PicPay sends"),";")),(0,i.kt)("h2",{id:"getting-help"},"Getting help"),(0,i.kt)("p",null,"We hope this article has been helpful! If you have any remaining questions, you can check our FAQ or contact us via email at ",(0,i.kt)("a",{parentName:"p",href:"mailto:relacionamento-negocios@picpay.com"},"relacionamento-negocios@picpay.com"),"."))}p.isMDXComponent=!0}}]);